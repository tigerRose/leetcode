## 找两个有序数组的中位数

### 问题描述

给定两个有序数组，长度分别m和n，寻找两个有序数组的中位数，时间复杂度要在O(log(m+n))

**Input** [1, 3] [2]

**Output** 2.0

**Input** [1, 2] [3, 4]

**Output** 2.5

### 个人思路

要找一个数组的中位数，将其排序，如果数组个数为奇数n，则取n/2位置的数；如果为偶数n，则取n/2 (n/2)-1两个数的平均值。

现在有两个有序数组，按顺序合并为一个有序数组，然后取值即可。不过这样时间复杂度是O(max(m,n)),因为要分别遍历两个数组。

### 答案思路

首先分析**中位数median**的作用：

>将一个集合分成个数相等的两部分，其中一部分永远小于另一部分。 

然后可以将A B两个数组分别分成两部分:

A[0] .. A[i-1] | A[i] .. A[m-1]
B[0] .. B[j-1] | B[j] .. B[n-1]

将left_A left_B 当作left_part , right_A right_B 当作right_part

只要满足两个条件即分类完成：

- len(left_part) = len(right_part)  -> i+j = m-i+n-j+1 
- max(left_part) <= min(right_part) -> B[j-1] <= A[i] and A[i-1] <= B[j]

第一个条件，是初始化条件，即根据i的取值，可以判断j的取值；为了最快速，使用二分查找，i从m/2开始

第二个条件，是循环结束条件，满足左边最大数小于右边最小，即可以求中位数；否则，如果i小，增加i，i大，减小i

最后是取中位数，如果数组总数为奇数odd，则取max(left_part);否则取(max(left_part)+min(right_part)) / 2.

当然要考虑边界值问题。

时间复杂度是O(log(min(m,n)));空间复杂度O(1)

### 总结

- 对问题要分析清楚，建立一个模型，从而简化它的过程。本题从对两个有序数组分类开始，简单明了。
- log的时间复杂度通常对应于搜索中的二分法，可以有意识的往这方面想。
